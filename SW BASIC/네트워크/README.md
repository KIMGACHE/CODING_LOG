# 네트워크

1. [네트워크 기본](#네트워크-기본)
2. [1Layer 물리 계층](#1Layer-물리-계층)
3. [2Layer 데이터 링크 계층](#2Layer-데이터링크-계층)
4. [3Layer 네트워크 계층](#3Layer-네트워크-계층)
5. [4Layer 전송 계층](#4Layer-전송-계층)
6. [IPv4](#IPv4)
7. [정적 라우팅](#정적-라우팅)
8. [동적 라우팅](#동적-라우팅)
9. [서버](#서버)
<br>
<br>

## 네트워크 기본
---
**네트워크란?** 데이터 교환을 위해 통신 장치를 연결한 통신망 <br>
**Topology** : 네트워크의 연결 형태 <br>
ex) Ring, Star, Tree, Mesh 형태 <br>
<br>
네트워크의 종류는 통신장치 간의 거리에 따라 **LAN**/**WAN**으로 나뉜다. <br>
**LAN** : 근거리 통신망(2km이내), 통신장치 간의 연결거리가 비교적 짧은 통신망, 고속 통신을 목적으로 함. <br>
**WAN** : 원거리/광대역 통신망, 안전성에 중점을 둠. <br>
<br>
**인터넷** : 수많은 종류의 통신망들을 묶은 거대 통신망 <br>
**인트라넷** : 조직 내부에서 사용되는 사설 네트워크 <br>
**익스트라넷** : 두 조직 또는 기관 간에 안전하게 정보를 공유하기 위해 사용되는 네트워크 <br>
<br>
**프로토콜이란?** 통신을 위해 미리 약속된 규칙/규약, 통신을 가능하게 하는 프로그램 <br>
프로토콜에는 **구문(Syntax)**, **의미(Meaning)**, **타이밍(Timimg)**이라는 3가지 요소가 있다. <br>
<br>
**네트워크 모델** : 네트워크망 제작시 사용되는 지침서, 네트워크망 이상발생시 문제해결에 사용되는 용도, 호환성(제조사/국가가 다른 통신장치간의 통신 목적) <br>
공급 업체들간의 각각 다른 형태의 네트워크 모델이 존재 -> <br>
전세계 모든 컴퓨터 네트워크의 표준화 모델을 만들자 -> <br>
OSI 7 Layer -> 현재는 TCP/IP 모델을 널리 사용중 <br>
<br>
**OSI 7 Layer와 TCP/IP의 계층 연결하기** <br>
OSI 7 Layer vs TCP/IP <br>
응용,표현,세션 계층 <-> 응용계층 <br>
전송 계층 <-> 전송 계층 <br>
네트워크 계층 <-> 인터넷 계층 <br>
데이터링크, 물리 계층 <-> network access계층 <br>

<br>

## 1Layer 물리 계층
**하는 일** : 장치간의 물리적 연결 <br>
**역할** : 전기적 신호 전달 <br>
**장치** : 케이블, 리피터, 허브 <br>

1. 케이블 : 전기를 이용하여 신호를 전달함.
  *이더넷 케이블
  *광섬유 케이블
  *동축 케이블
2. 리피터 : 전기신호를 증폭함
3. 허브 : 집선장치, 연결되면 될수록 느려짐, 보안성 낮음.
<br>
<br>
**신호** : 부호가 특정 매개체를 이용하여 전달되어지는 상태 <br>
ex) 강이란 단어(부호)를 알지만 이것이 공기를 통해 상대방에게 전달이 되어야 신호라고 할 수 있다. <br>
신호가 전달되기 위해 필요한 요소 - **전기에너지, 통신망** <br>
**부호** : 의미를 가지는 약속된 기호 (디지털 부호 -> 0,1) <br>

<br>
<br>

## 2Layer 데이터링크 계층
**하는 일** : 장치와 장치간에 (Point to Point) 운송방식 결정 <br>
**목적** : 장치와 장치간에 (Point to Point) 신뢰성있는 전송을 보장하기 위한 계층 <br>
**필요한 요소** <br>
1. 연결된 장비 간 식별 주소(어떤 장치와 연결되었는지) = MAC주소
2. 오류제어 (데이터가 잘 들어왔는지)
3. 흐름제어 (언제 데이터를 보낼 것인지, 어느정도 속도로 데이터를 보낼 것인지)
**장치** : **Layer 2 Switch**, Bridge, Network Interface Card, 무선 Access Point <br>
<br>

**데이터링크에 사용되는 프로토콜**
1. **LAN**
 - **Ethernet** - CSMA/CD
 - Wi-fi
 - 토큰 링
 - FDDI

2. **WAN**
 - **HDLC**
 - PPP(HDLC+인증)
 - 프레임 릴레이
 - ATM

<br>
CSMA/CD방식이란? <br>
신호를 보내보고 지나가도 될 것 같으면 지나가는 방식 <br>
문제는 통신량이 많을 때 충돌이 발생한다. <br>
-> Switch를 통해 해결함.

<br>
<br>

## 3Layer 네트워크 계층
**하는 일** : 경로 탐색 <br>
**목적** : 전달하려 하는 데이터를 목적지로 빠르고 안전한 경로로 안내하기 위한 최적경로 탐색 <br>
**장치** : <span style="color:red">라우터</span>, L3 Switch <br>
<br>
**프로토콜 종류**
1. **IP** : 인터넷에서 사용되는 기본 주소 체계
2. **ICMP** : TCP/IP에서 IP패킷을 처리할 때 발생되는 문제를 알리거나, 진단 등과 같이 IP계층에서 필요한 기타 기능들을 수행하기 위해 사용되는 프로토콜
3. **ARP** : 목적지와 통신이 가능한지 식별하는 프로토콜, IP를 이용하여 MAC주소를 알아온다.(ARP Table)
4. **Routing Protocol** : 최적 경로탐색에 사용되는 프로토콜

<br>
<br>

## 4Layer 전송 계층
**하는 일** : 종단간 (End to End) 데이터의 신뢰성을 보장하는 것 <br>
**목적** : 종단간에 사용자들이 신뢰성있는 데이터를 주고 받을 수 있도록 하는 것 <br>
**장치** : L4 Switch <br>

**프로토콜의 종류**
 - **TCP** : 종단 호스트간에 신뢰성 있는 연결 지향성 서비스를 제공 (필요할 때 마다 연결하겠다는 의미로 계속해서 연결되어있지않다.)
   - 신뢰성있는 : 종단간 데이터의 이상유무 확인(데이터가 잘 왔는지)
   - 연결지향성 : 계속적인 데이터 교환을 위한 연결 통로 설정
 - **UDP** : 지속적인 연결을 하지않고 TCP에 비해 구조가 단순한 전송 계층 프로토콜이다. 데이터의 빠른 전송에 적합하다.
   - 실시간 응용 및 멀티캐스팅 가능 (빠른 요청과 응답이 필요한 실시간 응용에 적합하고 여러 지점에 전송가능하다.)

<br>
<br>

## IPv4
**IP**는 8bit 마디가 4개 있는 형태로 총 32bit로 구성되어진다. <br>
<br>
**네트워크 종류**
1. Network IP : 내 통신망과 다른 통신망을 구별하는 IP이다. (같은 통신망에 있는가?)
2. Host IP : 장치들끼리 구별하는 IP이다. (같은 통신망 내에 있는 장치를 구별하는 용도)
<br>
**Subnet Mask** <br>
어디서부터 어디까지가 Network IP인지 Host IP인지 지정해주는 마스크<br>
1 : Network IP자리로 지정하겠다. <br>
0 : Host IP자리로 지정하겠다. <br>
ex) 255.0.0.0 -> 11111111.00000000.00000000.00000000으로 앞에서부터 8bit를 Network IP로 설정한다.<br>
<br>
예제) 192.168.10.1 <br>
Subnet Mask : 255.0.0.0 <br>
Network IP : 192.0.0.0 <br>
할당 Host 범위 : 192.0.0.1 ~ 192.255.255.254 (마지막 번호를 할당하지 않는다.)<br>

<br>

**Classful** : 규모에 따라 IP주소를 구분시키는 방식<br>
1. A Class : Subnet Mask 255.0.0.0, 주소범위는 첫 마디 0~127
2. B Class : Subnet Mask 255.255.0.0, 주소범위는 첫 마디 128~191
3. C Class : Subnet Mask 255.255.255.0, 주소범위는 첫 마디 192~223
4. Classless : 위의 방식을 따르지 않는 경우

<br>

**IPv4 통신방식** <br>
- UniCast : 같은 통신망 내에 있는 특정 host에게 전송 (느리지만 정확하다)
- BroadCast : 같은 통신망 내에 있는 모든 host에게 전송 (Host IP의 가장 마지막 번호를 사용하는 경우로 빠르지만 보안이 좋지않다)
- MultiCast : D Class를 사용, 각 Cast의 장점을 결합한 방식

<br>

## 정적 라우팅
관리자가 직접 목적지와 방향 정보를 등록시켜야 한다. <br>
- Static Routing : 하나의 목적지에 대한 방향 정보
  - 라우터가 2개 이상인 경우 첫번째로 인접한 라우터가 내가 원하는 경로에 필요한 ip를 Routing Table에 가지고 있지 않을 경우 인접한 라우터에 내가 가려는 ip를 직접 입력한다. 이때 next hop은 해당 네트워크로 가기위해 거치는 라우터의 ip를 의미한다.
  - 인접한 라우터가 내가 원하는 경로에 필요한 ip를 가지고 있지만 이후 다음 라우터가 가지고 있지 않는 경우 다른 라우터에 내가 가려는 ip와 next hop을 직접 입력한다.
- Default Routing : 지정하지 않은 방향에 대한 정보
  - 가장 가장자리에 있는 라우터에 Network 0.0.0.0 / Mask 0.0.0.0을 넣고 next hop에 이웃한 라우터의 ip를 넣는다.

<br>

## 동적 라우팅
프로그램 자체 내에서 전체 경로 학습을 한 뒤 최적 경로를 도출해낸다. 대신 부하가 크다.
- IGP(Interior Gateway Protocol) : 게이트웨이 내부에서 사용되는 프로토콜
  - Distance Vector(RIPv2) : 거리(hop)를 측정하여 거리가 짧은 쪽이 최적 경로로 선출하는 방식
    - RIP는 본인이 가지고 있는 Routing Table을 계속 전파한다 -> Loop에 빠지게 된다 -> MaxHop을 15로 제한하여 해결하였으나 대규모는 불가하다.
  - Link-State(OSPF) : 상태정보를 보고 최적 경로를 판단한다.
    - 상태정보 : 대역폭, 부하, 지연, 데이터의 신뢰도,최대 전송단위 (OSPF는 대역폭을 보고 최적 경로를 판단한다)
    - 중앙에서 정보를 모아서 재분배하는 방식이기 때문에 한번 정보를 받고나서 네트워크에 변화가 없다면 재분배를 하지않기때문에 부하가 처음에 심하고 이후에는 괜찮아지는 편이다.
  - EIGRP : 위의 두 방식을 합친 것
- EGP(Exterior Gateway Protocol) : 게이트웨이 외부에서 사용되는 프로토콜
  - BGP

<br>

AS(Autonomous System) : 관리자가 관리하는 라우터의 집합<br>
ASBR : AS의 가장자리에 있는 라우터들이 서로 다른 AS들과 연결되어 있다. 해당 라우터(게이트웨이 역할)를 ASBR이라 한다.<br>
**동적 라우팅의 장점** : 네트워크의 상태변화에 민감하다.

<br>

## 서버
Server : 서비스를 제공하는 주체, 하드웨어적인 속성을 가진다. <br>
Client : 먼저 서비스를 요청하는 주체, 소프트웨어적인 속성을 가진다. <br>

**Domain Name Service** <br>
특정한 영역(Zone)을 만들고 거기 안에 문자 주소와 숫자 주소를 저장하여 Client가 문자 주소를 질의했을 때 숫자 주소를 알려주는 서비스.<br>
Web Service : 하이퍼텍스트 형식의 문서파일을 제공해주는 서비스. <br>

즉, Client가 www.naver.com으로 request하면 DNS가 reponse하여 숫자주소를 알려준다. Client는 해당 주소로 이동하여 HTTP(TPC통신) request하여 웹을 받아온다.
