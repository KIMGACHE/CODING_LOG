# 리눅스

**LINUX OS의 특징**<br>
1. 무료
2. 오픈소스 (내가 원하는 형태의 리눅스를 만들 수 있다.)
3. 플랫폼에 독립적으로 사용 가능하다.

## 기본 명령어
---
~ : Home Directory를 의미<br>
sudo su : 관리자 계정으로 전환<br>

passwd [변경할 비밀번호] : 접속중인 사용자의 비밀번호를 변경<br>
passwd [계정명] [변경할 비밀번호] : 해당 계정의 비밀번호를 변경<br>
<br>
reboot / shut down -r now / init 6 : 재부팅<br>
power off / shut down -h now / halt / init 0 : 부팅<br>
<br>
ifconfig : 네트워크 확인 명령어<br>
pwd : print working directory, 현재 위치 확인 명령어
<br>
<br>
**cd** [이동경로] 현재 디렉토리(working directory) 변경 명령어<br>
**경로 표현방식**<br>
1. 절대경로 : 모든 경로를 다 적는 방식. ex) /home/test/abc
2. 상대경로 : 현재 디렉토리를 기준으로 경로를 표현하는 방식. ex) 위의 예시에서 home으로 이동할때  cd ../..
   
<br>

**ls** : 파일, 디렉토리 목록을 출력하는 명령어<br>
-a : 모두보기<br>
-l : 자세히보기<br>
-R : 하위 항목까지 보기(하위 폴더)<br>
-d : 해당 디렉토리의 상세정보 보기<br>
<br>

**mkdir** [경로/폴더명] : 폴더 생성 (한번에 여러개도 생성할 수 있다) <br>
-p : 경로상에 존재하지않는 폴더로 생성한다. <br>
```
mkdir /test/abc/gache (이때 root디렉토리에 test abc gache폴더는 존재하지않지만 모두 생성해줌)
```
<br>

**touch** [경로/파일명] : 파일 생성 명령어 <br>
-d : 파일의 생성 일자를 바꿀 수 있다. <br>
```
touch -d 10:10 1 (touch -d [바꿀일자] [파일명]
```
-t : 파일의 생성 년월일을 바꿀 수 있다.
```
touch -t 199904190824 1 (touch -d [yyyymmddhhmm] [파일명]
```

<br>

**cp**[옵션] [원본경로] [대상경로] : 파일 복사 명령어<br>
파일명을 적지 않으면 원본파일명을 따라간다. <br>
```
cp /home/test1/1 /cptest/1
cp /home/test/7 /home/test/8 /home/test/9 (항상 마지막 경로가 복사되는 위치다. 7,8을 9로 합쳐서 하나의 파일로 복사)
```
파일 복사라고 하지만 똑같은 내용을 다시 만드는 것이기 때문에 생성일자는 복사한 시점이 된다.<br>
-p : 원본 파일의 속성(생성시간)을 그대로 복사한다. <br>
-r : 폴더 전체를 복사한다. <br>

<br>

**rm** [삭제경로] : 파일을 삭제하는 명령어 <br>
-r : 폴더를 삭제할 수 있는 옵션 <br>
-i : 삭제할 것인지 물어보는 옵션 <br>
-f : 강제 삭제 <br>

<br>

**cat** [문서경로] : 문서 전체 출력 <br>
-n : 각 행에 번호를 부여하고 싶다면 <br>
**head** [문서경로] : 문서를 위에서부터 10줄까지 출력 <br>
-숫자 : 숫자 수 만큼 출력 <br>
**tail** [문서경로] : 문서를 아래에서부터 10줄까지 출력 <br>
-숫자 : 숫자 수 만큼 출력 <br>
**more** [문서경로] : 화면 크기만큼 출력 <br>
-숫자 : 숫자 수 만큼을 한 화면으로 설정하고 출력 <br>
<br>
## 리다이렉션
표준입력장치(키보드) -> OS -> 표준출력장치(모니터) <br>
의 과정을 <br>
**파일 -> OS -> 표준출력장치** or **표준입력장치 -> OS -> 파일**로 바꾸어주는 것을 말한다. <br>
<br>

```
cat > ./a  (지금부터 입력받는 내용을 a파일로 만든다)
ls -l > ./b (명령어의 내용을 화면에 출력하지않고 b파일로 만든다)
cat ./a ./b > ./c (여러 파일을 하나의 파일에 묶을 수 있다.)
```

파일이 없다면 파일이 생성되고 기존의 파일 경로를 넣게되면 덮어쓰기가 된다. (덮어쓰지 않고 이어쓰고 싶다면 >>로 바꾼다) <br>

<br>

## VI
입력모드, 실행모드, 이동모드가 있다. <br>
기본적으로 이동모드이고 i를 누르면 입력모드, esc를 누르면 실행모드로 전환된다. <br>
<br>
이동모드에서 **u**를 누르면 undo기능을 한다.<br>
<br>
실행모드에서 **:w**는 저장을 **:q**는 종료를 **:wq**는 저장하고 종료를 **:wq!**는 저장하고 강제로 종료하는 명령어이다. (**:q!**도 강제종료)<br>

## 권한부여
권한은 소유권과 허가권으로 나뉜다. <br>
소유권 : 허가권을 부여할 수 있는 권한으로 사용자계정,그룹계정,other계정이 있다. <br>
허가권 : 자원에 대한 접근 제한을 의미한다. <br>
```
-rw-r--r--  1 root  root 11 Aug  8 12:33 timezone
```
위의 예시에서 가장 첫번째 - 는 해당 파일이 문서파일임을 나타낸다. <br>
그리고 각각 rw- r-- r--로 나뉘는데 각각은 사용자계정,그룹계정,other계정의 권한을 나타낸다. <br>
root root에서 첫번째 root는 사용자계정이 누구인가를 두번째 root는 그룹계정이 누구인가를 나타낸다. <br>

r은 read, w는 write, x는 execute를 의미한다. <br>
**문서파일** <br>
1. r : 문서 내용 보기 (cat,head,tail,more...)
2. w : 문서 내용 수정 (vi...)
3. x : 문서 실행 (./파일명)

<br>

**디렉토리** <br>
1. r : 폴더 내부의 목록보기 (ls)
2. w : 하위 폴더를 생성, 수정, 삭제하는 것 (mkdir, rm, touch, cp, move...)
3. x : 폴더 내부로 들어오는 진입권한 (cd)

<br>

**권한부여** <br>
1. 소유자를 바꾸고싶을 때 : chown user명 파일명
2. 소유그룹을 바꾸고싶을 때 : chown .소유그룹명 파일명
3. 소유권을 바꾸고싶을 때 : chown user명.소유그룹명 파일명

u -> user, g -> group, o -> other을 의미한다.
r은 4, w는 2, x는 1을 의미한다.
```
chmod u+rw ./file (사용자계정에게 file에 대한 read,write권한을 추가한다.)
chmod g+rx ./file (그룹계정에게 file에 대한 read,execute권한을 추가한다.)
chmod o+rwx .file (other계정에게 file에 대한 read,write,execute권한을 추가한다.)

chmod 777 ./file (file에 대해 모든 계정에 모든권한을 부여)
chmod 546 ./file (file에 대해 u->rx, g->r, o->rw 권한을 부여)
chmod u=r ./file (file에 대해 사용자 계정이 read권한만을 가지도록 설정한다.)
```
<br>
디렉토리와 파일의 권한이 충돌하면 디렉토리의 권한이 우선된다.







